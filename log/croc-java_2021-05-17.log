[2021-05-17 10:15:39.211][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():56]-send: Sender
[2021-05-17 10:22:05.770][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 10:22:05.771][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 10:22:05.777][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 10:22:05.781][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():56]-send: Sender
[2021-05-17 10:25:11.804][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 10:25:11.806][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 10:25:11.819][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 10:25:11.819][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 10:25:11.822][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 10:25:11.823][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():56]-send: Sender
[2021-05-17 10:25:41.848][WARN ][idv.ray.croc.client.AbstClient-connectToServer():59]-fail to connect to localhost relay
[2021-05-17 10:25:41.848][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 10:25:41.848][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.NullPointerException
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:68) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:37) ~[classes/:?]
	at Croc.main(Croc.java:13) ~[test-classes/:?]
[2021-05-17 10:25:41.846][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to read message from the client
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:43) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:68) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:37) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:64) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:37) ~[classes/:?]
	... 1 more
[2021-05-17 10:29:25.267][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 10:29:25.269][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 10:29:25.273][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 10:29:25.273][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 10:29:25.276][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 10:29:25.277][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():56]-send: Sender
[2021-05-17 10:29:25.277][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling clieng...
[2021-05-17 10:31:20.866][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 10:31:20.867][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 10:31:20.872][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 10:31:20.872][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 10:31:20.876][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 10:31:20.877][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling clieng...
[2021-05-17 11:07:48.388][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:07:48.390][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:07:48.394][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:07:48.395][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:07:48.398][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:07:48.399][DEBUG][idv.ray.croc.relay.ClientHandler-<init>():35]-socket is connected: true
[2021-05-17 11:07:48.400][DEBUG][idv.ray.croc.relay.ClientHandler-run():39]-handling client...
[2021-05-17 11:08:40.344][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:08:40.345][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:08:40.350][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:08:40.350][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:08:40.353][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:08:40.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:08:40.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:08:40.354][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:08:40.354][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:08:40.354][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:08:40.354][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:18:07.528][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:18:07.538][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:18:07.543][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:18:07.544][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:18:07.547][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:18:07.548][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:18:07.548][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:18:07.548][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:18:07.548][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:18:07.549][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:18:07.549][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:18:07.550][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:18:07.550][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: sender already exists
	at idv.ray.croc.room.Room.setSender(Room.java:36) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:18:37.560][WARN ][idv.ray.croc.client.AbstClient-connectToServer():59]-fail to connect to localhost relay
[2021-05-17 11:18:37.561][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 11:18:37.561][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.NullPointerException
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:68) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:37) ~[classes/:?]
	at Croc.main(Croc.java:13) ~[test-classes/:?]
[2021-05-17 11:20:25.696][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:20:25.697][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:20:25.701][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:20:25.702][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:20:25.704][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:20:25.705][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:20:25.705][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:20:25.705][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:20:25.705][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:20:25.705][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:20:25.706][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:20:25.706][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:20:25.706][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: sender already exists
	at idv.ray.croc.room.Room.setSender(Room.java:36) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:48:16.755][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:48:16.757][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:48:16.761][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:48:16.761][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:48:16.764][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:48:16.766][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:48:16.766][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:48:16.766][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:48:16.766][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:48:16.767][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:48:16.767][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:48:16.767][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:48:16.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 11:48:16.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 11:48:16.768][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():54]-connecting to localhost successes
[2021-05-17 11:48:16.769][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 11:48:16.769][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.NullPointerException
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:68) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:37) ~[classes/:?]
	at Croc.main(Croc.java:13) ~[test-classes/:?]
[2021-05-17 11:52:02.463][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:52:02.465][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:52:02.469][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:52:02.470][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():46]-connect to server: localhost
[2021-05-17 11:52:02.472][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-idv.ray.croc.connection.ServerConnectionHandlersend: Sender
[2021-05-17 11:52:02.474][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:52:02.475][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-idv.ray.croc.connection.ClientConnectionHandlerread: Sender
[2021-05-17 11:52:02.476][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-idv.ray.croc.connection.ClientConnectionHandlersend: Ack
[2021-05-17 11:52:02.476][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-idv.ray.croc.connection.ServerConnectionHandlerread: Ack
[2021-05-17 11:52:02.476][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():54]-connecting to localhost successes
[2021-05-17 11:52:02.476][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 11:52:02.477][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.NullPointerException
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:68) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:37) ~[classes/:?]
	at Croc.main(Croc.java:13) ~[test-classes/:?]
[2021-05-17 11:54:22.894][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:54:22.896][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:54:22.900][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:54:22.900][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 11:54:22.903][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:54:22.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:54:22.904][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:54:22.904][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:54:22.904][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:54:22.904][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:54:22.905][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:54:22.905][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:54:22.906][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 11:54:22.906][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 11:54:22.906][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 11:54:22.907][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 11:54:22.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:54:22.907][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:54:22.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:54:22.908][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:54:22.908][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:54:22.908][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:54:22.908][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:54:22.909][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:54:22.909][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: sender already exists
	at idv.ray.croc.room.Room.setSender(Room.java:36) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:54:52.918][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:77) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:77) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:54:52.922][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to localhost relay
[2021-05-17 11:54:52.922][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 11:54:52.922][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 11:54:52.923][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 11:55:14.201][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:55:14.202][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:55:14.206][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 11:55:14.207][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.RelayException$ServerInitException: fail to initialize server socket
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:39) ~[classes/:?]
	at idv.ray.croc.client.Sender.initLocalRelay(Sender.java:53) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:36) ~[classes/:?]
	at Croc.main(Croc.java:14) ~[test-classes/:?]
Caused by: java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method) ~[?:1.8.0_261]
	at java.net.DualStackPlainSocketImpl.socketBind(Unknown Source) ~[?:1.8.0_261]
	at java.net.AbstractPlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.PlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:36) ~[classes/:?]
	... 3 more
[2021-05-17 11:55:30.025][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 11:55:30.026][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 11:55:30.031][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 11:55:30.031][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 11:55:30.034][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:55:30.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:55:30.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:55:30.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:55:30.036][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:55:30.036][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:55:30.036][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:55:30.037][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:55:30.037][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 11:55:30.037][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 11:55:30.038][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 11:55:30.038][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: 
[2021-05-17 11:55:30.038][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:55:30.038][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 11:55:30.039][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:55:30.039][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 11:55:30.039][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 11:55:30.039][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 11:55:30.040][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 11:55:30.040][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 11:55:30.040][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: sender already exists
	at idv.ray.croc.room.Room.setSender(Room.java:36) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:56:00.047][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:77) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:77) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 11:56:00.049][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to  relay
[2021-05-17 11:56:00.049][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 11:56:00.049][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 11:56:00.049][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 12:00:04.042][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 12:00:04.044][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 12:00:04.048][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 12:00:04.049][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 12:00:04.052][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 12:00:04.052][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 12:00:04.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 12:00:04.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 12:00:04.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 12:00:04.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 12:00:04.054][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 12:00:04.055][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 12:00:04.056][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 12:00:04.056][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 12:00:04.056][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 12:00:04.056][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 12:00:06.342][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 12:00:06.343][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 12:00:06.343][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 12:00:06.343][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 12:00:06.343][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 13:48:23.939][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 13:48:23.940][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 13:48:23.944][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 13:48:23.945][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 13:48:23.947][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:48:23.948][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:48:23.948][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:48:23.949][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:48:23.949][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 13:48:23.949][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:48:23.949][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:48:23.950][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 13:48:23.950][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 13:48:23.950][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 13:48:23.950][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 13:48:23.951][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 13:48:26.242][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 13:48:26.243][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 13:48:26.243][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 13:48:26.243][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 13:48:26.244][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 13:48:40.376][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:48:40.376][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:48:40.376][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:48:40.377][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:48:40.377][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 13:48:40.378][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: fail to accept client
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:45) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.CommunicationException$MessagePatternException: the message pttern must be "Sender|true"
	at idv.ray.croc.connection.ConnectionHandler.checkMessagePattern(ConnectionHandler.java:119) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:42) ~[classes/:?]
	... 1 more
[2021-05-17 13:50:35.897][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 13:50:35.899][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 13:50:35.903][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 13:50:35.903][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 13:50:35.906][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:50:35.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:50:35.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:50:35.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 13:50:35.907][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:50:35.908][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:50:35.908][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:50:35.910][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 13:50:35.910][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 13:50:35.910][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 13:50:35.910][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 13:50:35.910][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 13:50:38.201][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 13:50:38.202][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 13:50:38.202][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 13:50:38.203][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 13:50:38.203][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 13:50:44.144][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:50:44.144][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:50:44.144][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:50:44.145][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:50:44.145][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 13:50:44.146][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: fail to accept client
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:45) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.CommunicationException$MessagePatternException: the message pttern must be "Sender|ReceiverReceiver"
	at idv.ray.croc.connection.ConnectionHandler.checkMessagePattern(ConnectionHandler.java:119) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:42) ~[classes/:?]
	... 1 more
[2021-05-17 13:51:36.987][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 13:51:36.989][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 13:51:36.993][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 13:51:36.994][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 13:51:36.997][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:51:36.997][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:51:36.997][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:51:36.998][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 13:51:36.998][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:51:36.998][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:51:36.999][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:51:36.999][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 13:51:37.000][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 13:51:37.000][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 13:51:37.000][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 13:51:37.000][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 13:51:39.298][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 13:51:39.298][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 13:51:39.299][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 13:51:39.299][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 13:51:39.300][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 13:51:44.349][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:51:44.350][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:51:44.350][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:51:44.351][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:51:44.351][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 13:51:44.351][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 13:51:44.351][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 13:51:44.352][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 13:51:44.352][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 13:51:44.352][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 13:51:44.352][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 13:51:44.353][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 13:51:44.354][DEBUG][idv.ray.croc.client.Sender-close():79]-close relay connection
[2021-05-17 13:51:44.354][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 13:51:44.354][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 13:51:44.355][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 13:51:44.355][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: receiver already exists
	at idv.ray.croc.room.Room.setReceiver(Room.java:47) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:101) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 13:51:44.354][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 13:51:44.354][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:06:37.518][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:06:37.519][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:06:37.523][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:06:37.524][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:06:37.527][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:06:37.527][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:06:37.527][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:06:37.528][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:06:37.528][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:06:37.528][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:06:37.528][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:06:37.529][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:06:37.529][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:06:37.530][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:06:37.530][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:06:37.530][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:06:39.817][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:06:39.818][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:06:39.818][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:06:39.818][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:06:39.819][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:06:43.892][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:06:43.893][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:06:43.893][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:06:43.893][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:06:43.894][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:06:43.894][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:06:43.894][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:06:43.895][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:06:43.895][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:06:43.895][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:06:43.895][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:06:43.895][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:06:43.896][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:06:43.897][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:06:43.898][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:06:43.898][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: receiver already exists
	at idv.ray.croc.room.Room.setReceiver(Room.java:47) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:101) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 14:06:43.896][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:06:43.896][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:06:43.896][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Ack
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 14:08:39.446][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: 
[2021-05-17 14:08:41.474][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to  relay
[2021-05-17 14:08:41.475][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:08:43.526][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to localhost relay
[2021-05-17 14:08:43.527][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:08:43.528][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.ClientException$NoRelayConnectedException: both local and remote relay not connected
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:83) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:25) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:13) ~[test-classes/:?]
[2021-05-17 14:09:14.093][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: 
[2021-05-17 14:09:16.132][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to  relay
[2021-05-17 14:09:16.132][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:09:18.179][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to localhost relay
[2021-05-17 14:09:18.180][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:09:18.180][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.ClientException$NoRelayConnectedException: both local and remote relay not connected
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:83) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:25) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:13) ~[test-classes/:?]
[2021-05-17 14:09:32.605][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: 
[2021-05-17 14:09:34.658][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to  relay
[2021-05-17 14:09:34.659][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:09:36.710][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to localhost relay
[2021-05-17 14:09:36.711][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:09:36.712][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.ClientException$NoRelayConnectedException: both local and remote relay not connected
	at idv.ray.croc.client.AbstClient.getRelayConnection(AbstClient.java:83) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:25) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:13) ~[test-classes/:?]
[2021-05-17 14:09:45.753][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:09:45.755][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:09:45.760][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:09:45.760][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:09:45.762][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:09:45.762][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:09:45.764][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:09:45.765][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:09:45.765][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:09:45.765][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:09:45.765][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:09:48.052][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:09:48.052][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:09:48.053][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:09:48.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:09:48.053][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:09:59.353][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: 
[2021-05-17 14:09:59.358][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:09:59.358][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:59.358][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:59.358][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:59.359][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:09:59.359][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:59.359][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:09:59.359][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:09:59.360][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:09:59.361][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:09:59.361][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to  successes
[2021-05-17 14:09:59.361][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:09:59.361][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:09:59.361][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:09:59.362][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:09:59.363][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:09:59.363][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:09:59.364][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: idv.ray.croc.exception.RoomException$OverwriteException: receiver already exists
	at idv.ray.croc.room.Room.setReceiver(Room.java:47) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:101) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 14:09:59.362][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:09:59.362][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Ack
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 14:09:59.362][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:11:23.104][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:11:23.105][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:11:23.109][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:11:23.110][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:11:23.112][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:11:23.113][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:11:23.113][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:11:23.114][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:11:23.114][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:11:23.114][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:11:23.114][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:11:23.115][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:11:23.115][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:11:23.116][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:11:23.116][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:11:23.116][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:11:25.406][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:11:25.406][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:11:25.407][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:11:25.407][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:11:25.408][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:11:31.875][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:11:31.881][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:11:31.881][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:11:31.881][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:11:31.882][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:11:31.882][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:11:31.882][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:11:31.882][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:11:31.882][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:11:31.883][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:11:31.884][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:11:31.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:11:31.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:11:31.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:11:31.884][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:11:31.885][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 14:11:31.885][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:11:31.885][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:11:31.885][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the receiver
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:65) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Ack
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleReceiver(ClientHandler.java:106) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:63) ~[classes/:?]
	... 1 more
[2021-05-17 14:11:31.885][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:11:34.169][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:11:34.169][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:11:34.170][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:11:34.172][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: /usr/local/nachos/decstation-ultrix/bin/
[2021-05-17 14:11:34.173][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:11:34.173][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.CommunicationException$MessagePatternException: the message pttern must be "Finished"
	at idv.ray.croc.connection.ConnectionHandler.checkMessagePattern(ConnectionHandler.java:119) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:48) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
[2021-05-17 14:26:26.664][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:26:26.666][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:26:26.670][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:26:26.670][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.RelayException$ServerInitException: fail to initialize server socket
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:39) ~[classes/:?]
	at idv.ray.croc.client.Sender.initLocalRelay(Sender.java:53) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:36) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method) ~[?:1.8.0_261]
	at java.net.DualStackPlainSocketImpl.socketBind(Unknown Source) ~[?:1.8.0_261]
	at java.net.AbstractPlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.PlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:36) ~[classes/:?]
	... 3 more
[2021-05-17 14:26:36.421][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:26:36.423][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:26:36.427][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:26:36.428][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:26:36.430][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:26:36.431][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:26:36.431][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:26:36.431][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:26:36.431][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:26:36.431][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:26:36.432][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:26:36.432][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:26:36.433][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:26:36.433][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:26:36.433][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:26:36.434][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:26:38.730][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:26:38.730][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:26:38.730][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:26:38.731][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:26:38.731][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:26:50.467][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:26:50.472][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:26:50.473][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:26:50.473][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:26:50.473][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:26:50.474][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:26:50.475][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:26:50.476][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:26:50.476][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:26:50.476][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:26:50.476][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:26:50.476][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:26:50.477][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 14:26:50.476][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:26:50.477][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:26:52.765][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:26:52.765][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:26:52.766][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:26:52.766][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:26:52.768][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:28:25.726][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:28:25.727][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:28:25.732][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:28:25.732][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.RelayException$ServerInitException: fail to initialize server socket
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:39) ~[classes/:?]
	at idv.ray.croc.client.Sender.initLocalRelay(Sender.java:53) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:36) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method) ~[?:1.8.0_261]
	at java.net.DualStackPlainSocketImpl.socketBind(Unknown Source) ~[?:1.8.0_261]
	at java.net.AbstractPlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.PlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:36) ~[classes/:?]
	... 3 more
[2021-05-17 14:28:38.702][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:28:38.704][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:28:38.707][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:28:38.708][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:28:38.711][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:28:38.711][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:28:38.712][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:28:38.712][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:28:38.712][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:28:38.712][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:28:38.713][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:28:38.714][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:28:38.714][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:28:38.715][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:28:38.715][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:28:38.715][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:28:41.013][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:28:41.014][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:28:41.014][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:28:41.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:28:41.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:28:49.919][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:28:49.924][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:28:49.924][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:28:49.924][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:28:49.924][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:28:49.925][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:28:49.925][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:28:49.925][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:28:49.925][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:28:49.927][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:28:49.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:28:49.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:28:49.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:28:49.927][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:28:49.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Finished
[2021-05-17 14:28:49.927][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:28:49.928][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to write message: Finished
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:61) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketOutputStream.socketWrite(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketOutputStream.write(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.writeBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlushBuffer(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.implFlush(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamEncoder.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.OutputStreamWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedWriter.flush(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.send(ConnectionHandler.java:59) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:94) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:28:52.202][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:28:52.202][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:28:52.203][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:28:52.203][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:28:52.205][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:31:12.128][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:31:12.129][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:31:12.133][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:31:12.133][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:31:12.136][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:31:12.136][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:31:12.136][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:31:12.136][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:31:12.137][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:31:12.137][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:31:12.137][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:31:12.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:31:12.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:31:12.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:31:12.139][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:31:12.139][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:31:14.417][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:31:14.418][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:31:14.418][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:31:14.418][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:31:14.419][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:31:21.278][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:31:21.284][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:31:21.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:31:21.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:31:21.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:31:21.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:31:21.286][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:31:21.287][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:31:23.568][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:31:23.568][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:31:23.569][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:31:23.569][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:31:51.295][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:31:51.295][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:31:51.295][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to transfer file in room
	at idv.ray.croc.room.Room.transferFile(Room.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:102) ~[classes/:?]
	at idv.ray.croc.room.Room.transferFile(Room.java:70) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	at idv.ray.croc.room.Room.transferFile(Room.java:70) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:31:53.573][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:31:53.573][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:102) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	... 3 more
[2021-05-17 14:34:08.278][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:34:08.280][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:34:08.283][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:34:08.284][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:34:08.286][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:34:08.287][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:34:08.288][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:34:08.288][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:34:08.288][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:34:08.288][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:34:08.289][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:34:08.289][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:34:08.290][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:34:08.291][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:34:08.291][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:34:08.291][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:34:10.580][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:34:10.580][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:34:10.581][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:34:10.581][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:34:10.582][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:34:16.328][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:34:16.334][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:34:16.335][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:34:16.335][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:34:16.335][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:34:16.335][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:34:16.335][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:34:16.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:34:16.337][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:34:16.338][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:34:18.621][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:34:18.622][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:34:18.622][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:34:18.623][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:35:59.682][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:35:59.683][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:35:59.687][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:35:59.687][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:35:59.690][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:35:59.691][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:35:59.691][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:35:59.691][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:35:59.692][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:35:59.692][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:35:59.692][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:35:59.693][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:35:59.693][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:35:59.694][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:35:59.694][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:35:59.694][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:36:01.977][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:36:01.977][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:36:01.977][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:36:01.978][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:36:01.978][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:36:09.054][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:36:09.059][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:36:09.060][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:36:09.060][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:36:09.060][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:36:09.060][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:36:09.060][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:36:09.061][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:36:09.062][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:36:11.335][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:36:11.335][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:36:11.336][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:36:11.336][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:36:37.587][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:36:37.587][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:103) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	... 3 more
[2021-05-17 14:45:25.163][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 14:45:25.164][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 14:45:25.168][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 14:45:25.169][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:45:25.171][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:45:25.172][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:45:25.172][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:45:25.172][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 14:45:25.172][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:45:25.173][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:45:25.173][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:45:25.174][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 14:45:25.174][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:45:25.175][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:45:25.175][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:45:25.175][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:45:27.470][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:45:27.471][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:45:27.471][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 14:45:27.472][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 14:45:27.472][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 14:45:33.667][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 14:45:33.672][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 14:45:33.673][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 14:45:33.674][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-file transfer finished
[2021-05-17 14:45:33.675][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 14:45:35.945][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 14:45:35.946][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 14:45:35.946][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 14:45:35.947][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 14:46:03.690][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:46:03.691][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 14:46:03.690][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to transfer file in room
	at idv.ray.croc.room.Room.transferFile(Room.java:74) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:103) ~[classes/:?]
	at idv.ray.croc.room.Room.transferFile(Room.java:70) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	at idv.ray.croc.room.Room.transferFile(Room.java:70) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 14:46:05.751][DEBUG][idv.ray.croc.client.AbstClient-close():89]-close relay connection
[2021-05-17 14:46:05.752][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:103) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	... 3 more
[2021-05-17 15:49:10.793][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 15:49:10.793][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 15:49:10.798][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 15:49:10.799][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 15:49:10.801][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:49:10.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:49:10.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:49:10.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 15:49:10.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:49:10.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:49:10.803][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:49:10.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 15:49:10.804][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:49:10.804][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:49:10.804][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 15:49:10.804][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 15:49:13.083][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 15:49:13.084][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 15:49:13.084][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 15:49:13.084][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 15:49:13.084][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 15:49:17.450][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: localhost
[2021-05-17 15:49:17.455][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:49:17.456][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:49:17.456][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:49:17.456][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:49:17.456][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 15:49:17.456][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 15:49:17.457][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():55]-connecting to localhost successes
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():47]-connect to server: asd
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:49:17.458][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-file transfer finished
[2021-05-17 15:49:19.737][WARN ][idv.ray.croc.client.AbstClient-connectToServer():60]-fail to connect to asd relay
[2021-05-17 15:49:19.737][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():78]-sender connects to local relay
[2021-05-17 15:49:19.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:49:19.738][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 15:52:27.650][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 15:52:27.651][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 15:52:27.655][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 15:52:27.656][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:52:27.659][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:52:27.660][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:52:27.661][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 15:52:27.663][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:52:27.663][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:52:27.664][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:52:27.664][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:52:29.940][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:52:29.941][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:52:29.941][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 15:52:29.941][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 15:52:29.942][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 15:52:37.547][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:52:37.552][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:52:37.552][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:52:37.552][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 15:52:37.553][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 15:52:37.554][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:52:37.555][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:52:37.555][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-file transfer finished
[2021-05-17 15:52:39.841][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:52:39.841][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:52:39.841][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:52:39.841][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 15:53:07.562][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 15:53:07.562][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.RuntimeException: server fail to handle the sender
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:59) ~[classes/:?]
	at java.lang.Thread.run(Unknown Source) [?:1.8.0_261]
Caused by: java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:103) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:97) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.handleSender(ClientHandler.java:93) ~[classes/:?]
	at idv.ray.croc.relay.ClientHandler.run(ClientHandler.java:56) ~[classes/:?]
	... 1 more
[2021-05-17 15:53:07.562][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:71) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:67) ~[classes/:?]
	... 3 more
[2021-05-17 15:54:01.875][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 15:54:01.877][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 15:54:01.880][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 15:54:01.881][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:54:01.884][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:54:01.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:54:01.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:54:01.884][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Sender
[2021-05-17 15:54:01.885][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:54:01.885][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:54:01.885][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:54:01.886][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Sender
[2021-05-17 15:54:01.886][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:54:01.887][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:54:01.887][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:54:01.887][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:54:04.171][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:54:04.172][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:54:04.172][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 15:54:04.173][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ready
[2021-05-17 15:54:04.173][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ready
[2021-05-17 15:54:15.551][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:54:15.556][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():43]-socket reader opened
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():49]-socket writer opened
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Receiver
[2021-05-17 15:54:15.557][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Receiver
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: Ack
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: ReceiverIsReady
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: Ack
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: ReceiverIsReady
[2021-05-17 15:54:15.558][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-sending file...
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:54:15.559][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():58]-send: FileName@123.txt
[2021-05-17 15:54:15.560][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-file transfer finished
[2021-05-17 15:54:17.841][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:54:17.841][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:54:17.841][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():68]-read: FileName@123.txt
[2021-05-17 15:54:17.841][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 15:57:56.845][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 15:57:56.846][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 15:57:56.850][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 15:57:56.851][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:57:56.854][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:57:56.854][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:57:56.855][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:57:56.855][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 15:57:56.855][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:57:56.855][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:57:56.855][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:57:56.856][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 15:57:56.857][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 15:57:56.857][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 15:57:56.857][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:57:56.857][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:57:59.134][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:57:59.134][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:57:59.134][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 15:57:59.134][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 15:57:59.135][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 15:58:26.698][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 15:58:26.700][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 15:58:26.704][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 15:58:26.705][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:58:26.707][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:58:26.707][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:58:26.707][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:58:26.707][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 15:58:26.708][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:58:26.708][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:58:26.708][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:58:26.709][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 15:58:26.709][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 15:58:26.709][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 15:58:26.710][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:58:26.710][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:58:28.996][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:58:28.996][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:58:28.997][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 15:58:28.997][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 15:58:28.997][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 15:58:34.403][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 15:58:34.409][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 15:58:34.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:58:34.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:58:34.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 15:58:34.409][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 15:58:34.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 15:58:34.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 15:58:34.412][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 15:58:34.412][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 15:58:36.696][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 15:58:36.696][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 15:58:36.696][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 15:58:36.697][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:08:10.373][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 16:08:10.374][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 16:08:10.379][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 16:08:10.379][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:08:10.381][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:08:10.381][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:08:10.382][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:08:10.382][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 16:08:10.382][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:08:10.382][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:08:10.383][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:08:10.383][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 16:08:10.384][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:08:10.384][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:08:10.384][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:08:10.384][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:08:12.679][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:08:12.679][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:08:12.679][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 16:08:12.680][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 16:08:12.680][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 16:08:18.439][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:08:18.445][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:08:18.445][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:08:18.445][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:08:18.445][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:08:18.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:08:18.447][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 16:08:18.448][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:08:18.448][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 16:08:20.733][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:08:20.733][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:08:20.734][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:08:20.734][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:12:17.412][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 16:12:17.414][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 16:12:17.418][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 16:12:17.418][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:12:17.421][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:12:17.422][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:12:17.422][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:12:17.422][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 16:12:17.422][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:12:17.422][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:12:17.423][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:12:17.424][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 16:12:17.425][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:12:17.425][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:12:17.425][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:12:17.425][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:12:19.714][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:12:19.714][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:12:19.715][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 16:12:19.715][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 16:12:19.716][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 16:12:28.564][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:12:28.569][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:12:28.569][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:12:28.569][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:12:28.569][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:12:28.569][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 16:12:28.570][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:12:28.571][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 16:12:29.572][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:30.586][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:30.870][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:12:30.871][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:12:30.871][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:12:30.872][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:12:31.586][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:32.599][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:33.613][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:34.620][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:35.622][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:36.629][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:37.642][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:12:38.235][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 16:12:38.235][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:104) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:98) ~[classes/:?]
	... 3 more
[2021-05-17 16:14:51.494][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 16:14:51.495][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 16:14:51.499][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 16:14:51.500][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:14:51.504][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:14:51.505][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:14:51.505][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 16:14:51.506][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:14:51.506][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:14:51.506][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:14:51.508][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:14:53.792][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:14:53.793][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:14:53.793][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 16:14:53.794][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 16:14:53.794][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 16:14:58.027][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:14:58.033][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:14:58.033][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:14:58.033][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:14:58.033][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 16:14:58.033][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:14:58.034][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:14:58.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 16:14:58.036][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:14:58.036][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 16:14:59.038][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:00.049][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:00.317][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:15:00.317][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:15:00.318][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:15:00.318][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:15:01.057][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:02.072][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:03.085][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:04.098][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:05.110][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:06.114][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:07.128][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:08.141][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:09.152][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 16:15:10.058][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 16:15:10.059][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:104) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:98) ~[classes/:?]
	... 3 more
[2021-05-17 16:31:23.597][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 16:31:23.599][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 16:31:23.603][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 16:31:23.604][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:31:23.607][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:31:23.607][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:31:23.608][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:31:23.608][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:31:23.608][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 16:31:23.608][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:31:23.609][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:31:23.609][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 16:31:23.610][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:31:23.610][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:31:23.610][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:31:23.610][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:31:25.901][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:31:25.902][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:31:25.902][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 16:31:25.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 16:31:25.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 16:31:36.710][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:31:36.715][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:31:36.715][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:31:36.715][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:31:36.716][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:31:36.716][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:31:36.716][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:31:36.716][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 16:31:36.716][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-file transfer not finished yet
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:31:36.717][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:31:36.718][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:31:36.718][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:31:36.718][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 16:31:36.718][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:31:36.718][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 16:31:38.998][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:31:38.998][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:31:38.998][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:31:38.999][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:33:29.154][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 16:33:29.155][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 16:33:29.159][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 16:33:29.160][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:33:29.163][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:33:29.164][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:33:29.164][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:33:29.164][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Sender
[2021-05-17 16:33:29.165][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:33:29.165][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:33:29.165][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:33:29.166][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Sender
[2021-05-17 16:33:29.167][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:33:29.167][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:33:29.167][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:33:29.167][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:33:31.444][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:33:31.445][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:33:31.445][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 16:33:31.445][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ready
[2021-05-17 16:33:31.446][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ready
[2021-05-17 16:33:36.733][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 16:33:36.739][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 16:33:36.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:33:36.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:33:36.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():44]-socket reader opened
[2021-05-17 16:33:36.740][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 16:33:36.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():50]-socket writer opened
[2021-05-17 16:33:36.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Receiver
[2021-05-17 16:33:36.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Receiver
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: Ack
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: ReceiverIsReady
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: ReceiverIsReady
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: Ack
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:33:36.741][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 16:33:36.742][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():59]-send: FileName@123.txt
[2021-05-17 16:33:36.742][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 16:33:36.742][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():100]-sending file...
[2021-05-17 16:33:36.742][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-file transfer finished
[2021-05-17 16:33:37.742][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:38.751][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:39.034][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 16:33:39.035][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 16:33:39.035][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():69]-read: FileName@123.txt
[2021-05-17 16:33:39.036][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 16:33:39.765][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:40.778][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:41.791][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:42.793][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:43.803][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():110]-check file transfer finished:false
[2021-05-17 16:33:44.430][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 16:33:44.431][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:104) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:98) ~[classes/:?]
	... 3 more
[2021-05-17 17:09:08.648][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 17:09:08.649][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 17:09:08.653][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 17:09:08.655][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:09:08.657][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:09:08.658][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:09:08.658][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:09:08.658][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 17:09:08.658][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:09:08.658][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:09:08.659][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:09:08.659][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 17:09:08.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:09:08.660][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:09:08.660][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:09:08.661][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:09:10.954][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:09:10.955][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:09:10.955][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 17:09:10.955][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 17:09:10.956][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 17:09:17.532][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:09:17.537][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:09:17.537][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:09:17.538][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:09:17.538][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:09:17.538][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:09:17.538][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:09:17.538][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 17:09:17.539][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 17:09:17.540][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():103]-file transfer finished
[2021-05-17 17:09:18.554][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:19.569][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:19.822][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:09:19.823][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:09:19.823][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:09:19.824][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 17:09:20.571][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:21.585][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:22.595][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:23.610][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:09:24.173][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 17:09:24.174][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:105) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 17:25:39.431][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 17:25:39.433][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 17:25:39.437][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 17:25:39.437][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:25:39.439][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:25:39.440][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:25:39.440][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:25:39.441][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:25:39.441][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:25:39.441][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 17:25:39.441][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:25:39.442][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 17:25:39.442][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:25:39.442][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:25:39.444][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:25:39.444][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:25:41.736][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:25:41.737][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:25:41.737][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 17:25:41.737][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 17:25:41.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 17:25:46.276][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:25:46.282][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:25:46.282][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:25:46.282][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:25:46.282][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:25:46.283][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:25:46.282][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:25:46.283][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 17:25:46.283][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 17:25:46.283][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:25:46.283][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:25:46.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-wait for socket reading
[2021-05-17 17:25:46.284][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:25:46.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 17:25:46.285][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-wait for socket reading
[2021-05-17 17:25:47.295][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:25:48.309][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:25:48.578][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:25:48.578][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:25:48.578][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:25:48.579][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 17:25:48.580][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-wait for socket reading
[2021-05-17 17:25:49.322][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:25:50.333][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:25:51.343][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:25:52.313][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 17:25:52.314][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:105) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:100) ~[classes/:?]
	... 3 more
[2021-05-17 17:34:44.678][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 17:34:44.679][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 17:34:44.683][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 17:34:44.684][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:34:44.687][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:34:44.687][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:34:44.688][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:34:44.688][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 17:34:44.688][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:34:44.688][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:34:44.688][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:34:44.689][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 17:34:44.690][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:34:44.690][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:34:44.690][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:34:44.690][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:34:46.982][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:34:46.983][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:34:46.983][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 17:34:46.983][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 17:34:46.984][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 17:34:57.252][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:34:57.258][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:34:57.258][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:34:57.258][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:34:57.258][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:34:57.259][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:34:57.259][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 17:34:57.259][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:34:57.259][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 17:34:57.259][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:34:57.260][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:34:57.261][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:34:57.261][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:34:57.261][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 17:34:57.261][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:34:57.261][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 17:34:58.272][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:34:59.283][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:34:59.551][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:34:59.551][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:34:59.552][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:34:59.552][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 17:35:00.297][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:01.308][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:02.322][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:03.334][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:04.347][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:05.360][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:06.373][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:07.385][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:08.395][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:09.406][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:10.420][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:11.432][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:12.440][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:35:13.114][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 17:35:13.114][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:105) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 17:48:08.130][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 17:48:08.131][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 17:48:08.135][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 17:48:08.136][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:48:08.139][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:48:08.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:48:08.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:48:08.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:48:08.141][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:48:08.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 17:48:08.141][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:48:08.141][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 17:48:08.142][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:48:08.142][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:48:08.143][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:48:08.143][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:48:10.417][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:48:10.418][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:48:10.418][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 17:48:10.418][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 17:48:10.419][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 17:48:17.732][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:48:17.737][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:48:17.737][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:48:17.737][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:48:17.737][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:48:17.738][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:48:17.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:48:17.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 17:48:17.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 17:48:17.738][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:48:17.739][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:48:17.740][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:48:17.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 17:48:17.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:48:17.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 17:48:17.740][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 17:48:18.751][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:19.763][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:20.032][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:48:20.032][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:48:20.033][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:48:20.033][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 17:48:20.775][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:21.787][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:22.797][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:23.798][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:48:24.800][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 17:48:24.800][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:106) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 17:54:58.398][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 17:54:58.399][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 17:54:58.404][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 17:54:58.405][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:54:58.407][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:54:58.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:54:58.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:54:58.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 17:54:58.409][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:54:58.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:54:58.410][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:54:58.410][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 17:54:58.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:54:58.411][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:54:58.412][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:54:58.412][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:55:00.692][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:55:00.692][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:55:00.693][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 17:55:00.693][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 17:55:00.694][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 17:55:03.318][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 17:55:03.325][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 17:55:03.326][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:55:03.326][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:55:03.326][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 17:55:03.326][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 17:55:03.326][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 17:55:03.327][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-available: 40
[2021-05-17 17:55:03.328][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():103]-sending file...
[2021-05-17 17:55:03.329][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-available: 40
[2021-05-17 17:55:03.329][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 17:55:03.329][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():103]-sending file...
[2021-05-17 17:55:04.340][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:55:05.352][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:55:05.622][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 17:55:05.623][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 17:55:05.623][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 17:55:05.624][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 17:55:05.625][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():99]-available: 0
[2021-05-17 17:55:06.363][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:55:07.377][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 17:55:08.040][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 17:55:08.041][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:107) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:100) ~[classes/:?]
	... 3 more
[2021-05-17 18:13:18.442][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:13:18.443][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:13:18.447][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:13:18.448][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:13:18.451][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:13:18.451][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:13:18.452][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:13:18.452][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:13:18.452][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:13:18.452][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:13:18.452][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:13:18.453][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:13:18.453][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:13:18.454][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:13:18.454][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:13:18.454][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:13:20.742][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:13:20.742][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:13:20.742][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:13:20.743][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:13:20.743][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:13:22.920][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:13:22.925][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:13:22.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:13:22.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:13:22.926][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:13:22.926][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:13:22.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:13:22.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:13:22.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:13:22.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:13:22.927][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:13:22.928][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-len: 40
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-len: 40
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file...
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file...
[2021-05-17 18:13:22.929][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():107]-sending file loop ends
[2021-05-17 18:13:23.936][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:24.949][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:25.218][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:13:25.219][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:13:25.219][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:13:25.220][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:13:25.961][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:26.971][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:27.972][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:28.987][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:30.003][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:31.016][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:32.016][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:33.031][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:34.038][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:35.051][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:36.053][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:13:37.021][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:13:37.021][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:109) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 18:14:18.507][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:14:18.508][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:14:18.512][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:14:18.513][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:14:18.516][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:14:18.516][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:14:18.517][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:14:18.517][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:14:18.517][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:14:18.517][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:14:18.518][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:14:18.518][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:14:18.519][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:14:18.520][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:14:18.520][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:14:18.520][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:14:20.806][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:14:20.807][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:14:20.807][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:14:20.807][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:14:20.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:14:25.005][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:14:25.011][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:14:25.011][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:14:25.011][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:14:25.012][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:14:25.012][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:14:25.012][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:14:25.012][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:14:25.013][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:14:25.013][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:14:25.013][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:14:25.013][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:14:25.013][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:14:25.014][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-len: 40
[2021-05-17 18:14:25.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file...
[2021-05-17 18:14:25.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-len: 40
[2021-05-17 18:14:25.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():106]-len@: -1
[2021-05-17 18:14:25.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file...
[2021-05-17 18:14:25.015][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():108]-sending file loop ends
[2021-05-17 18:14:26.024][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:27.039][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:27.309][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:14:27.309][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:14:27.310][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:14:27.310][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:14:28.040][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:29.053][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:30.064][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:31.077][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:32.087][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:33.100][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:34.111][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:14:34.486][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:14:34.487][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:110) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 18:39:45.413][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:39:45.415][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:39:45.419][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:39:45.420][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:39:45.423][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:39:45.423][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:39:45.424][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:39:45.424][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:39:45.424][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:39:45.424][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:39:45.425][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:39:45.425][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:39:45.426][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:39:45.426][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:39:45.426][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:39:45.426][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:39:47.698][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:39:47.699][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:39:47.699][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:39:47.700][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:39:47.700][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:39:56.895][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:39:56.900][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:39:56.901][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:39:56.901][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:39:56.901][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:39:56.901][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:39:56.901][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:39:56.902][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 18:39:56.903][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 18:39:57.909][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:39:58.923][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:39:59.191][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:39:59.192][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:39:59.192][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:39:59.193][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:39:59.933][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:40:00.948][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:40:01.963][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:40:02.976][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:40:03.987][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:40:04.510][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:40:04.511][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:107) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 18:42:22.990][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:42:22.992][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:42:22.995][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:42:22.996][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:42:22.999][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:42:22.999][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:42:22.999][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:42:23.000][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:42:23.000][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:42:23.000][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:42:23.000][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:42:23.001][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:42:23.001][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:42:23.002][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:42:23.002][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:42:23.002][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:42:25.298][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:42:25.299][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:42:25.299][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:42:25.299][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:42:25.300][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:42:30.793][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:42:30.799][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:42:30.799][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:42:30.799][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:42:30.799][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:42:30.800][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:42:30.800][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:42:30.800][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:42:30.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 18:42:30.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():103]-sending file loop ends
[2021-05-17 18:42:31.805][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:32.817][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:33.087][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:42:33.087][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:42:33.087][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:42:33.088][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:42:33.831][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:34.845][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:35.858][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:36.870][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:37.883][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:38.891][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:42:39.533][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:42:39.533][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:105) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 18:45:15.237][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:45:15.239][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:45:15.243][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:45:15.244][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:45:15.246][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:45:15.247][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:45:15.247][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:45:15.247][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:45:15.248][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:45:15.248][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:45:15.248][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:45:15.249][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:45:15.249][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:45:15.249][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:45:15.250][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:45:15.250][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:45:17.536][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:45:17.537][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:45:17.537][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:45:17.537][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:45:17.538][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:45:22.822][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:45:22.827][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:45:22.828][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:45:22.828][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:45:22.828][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:45:22.828][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:45:22.828][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:45:22.829][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 18:45:22.830][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 18:45:22.831][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:45:22.831][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 18:45:22.831][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():96]-setting true!!!!!!
[2021-05-17 18:45:22.831][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Finished
[2021-05-17 18:45:22.831][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():97]-setting true!!!!!!
[2021-05-17 18:45:22.831][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to read message
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:73) ~[classes/:?]
	at idv.ray.croc.client.Sender.sendFile(Sender.java:74) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:41) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: socket closed
	at java.net.SocketInputStream.socketRead0(Native Method) ~[?:1.8.0_261]
	at java.net.SocketInputStream.socketRead(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.readBytes(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.implRead(Unknown Source) ~[?:1.8.0_261]
	at sun.nio.cs.StreamDecoder.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.InputStreamReader.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedReader.readLine(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.read(ConnectionHandler.java:69) ~[classes/:?]
	... 3 more
[2021-05-17 18:45:23.829][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:true
[2021-05-17 18:45:25.114][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:45:25.115][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:45:25.115][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:45:25.116][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:45:25.117][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 18:45:25.117][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:48:04.832][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:48:04.834][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:48:04.838][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:48:04.838][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
idv.ray.croc.exception.RelayException$ServerInitException: fail to initialize server socket
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:39) ~[classes/:?]
	at idv.ray.croc.client.Sender.initLocalRelay(Sender.java:53) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:36) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
Caused by: java.net.BindException: Address already in use: JVM_Bind
	at java.net.DualStackPlainSocketImpl.bind0(Native Method) ~[?:1.8.0_261]
	at java.net.DualStackPlainSocketImpl.socketBind(Unknown Source) ~[?:1.8.0_261]
	at java.net.AbstractPlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.PlainSocketImpl.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.bind(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at java.net.ServerSocket.<init>(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.relay.LocalRelay.listen(LocalRelay.java:36) ~[classes/:?]
	... 3 more
[2021-05-17 18:48:14.572][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 18:48:14.574][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 18:48:14.578][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 18:48:14.579][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:48:14.582][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:48:14.583][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:48:14.583][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:48:14.583][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 18:48:14.583][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:48:14.583][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:48:14.584][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:48:14.584][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 18:48:14.585][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:48:14.585][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:48:14.585][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:48:14.586][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:48:16.876][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:48:16.877][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:48:16.877][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 18:48:16.877][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 18:48:16.878][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 18:48:21.842][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 18:48:21.848][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 18:48:21.848][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:48:21.848][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:48:21.848][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 18:48:21.848][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 18:48:21.849][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 18:48:21.850][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 18:48:21.851][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 18:48:21.851][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 18:48:21.851][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 18:48:22.864][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:23.875][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:24.142][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 18:48:24.142][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 18:48:24.143][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 18:48:24.144][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 18:48:24.883][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:25.898][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:26.912][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:27.923][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:28.925][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:29.934][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:30.945][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:31.954][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:32.964][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:33.978][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:34.987][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:35.997][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:false
[2021-05-17 18:48:36.326][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 18:48:36.327][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.io.IOException: fail to transfer file
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:107) ~[classes/:?]
	at idv.ray.croc.client.Receiver.receiveFile(Receiver.java:47) ~[classes/:?]
	at idv.ray.croc.client.Receiver.start(Receiver.java:26) ~[classes/:?]
	at ReceiverTester.main(ReceiverTester.java:14) ~[test-classes/:?]
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.net.SocketInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.fill(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read1(Unknown Source) ~[?:1.8.0_261]
	at java.io.BufferedInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at java.io.FilterInputStream.read(Unknown Source) ~[?:1.8.0_261]
	at idv.ray.croc.connection.ConnectionHandler.transferFile(ConnectionHandler.java:99) ~[classes/:?]
	... 3 more
[2021-05-17 19:05:56.415][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 19:05:56.426][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 19:05:56.430][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 19:05:56.430][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:05:56.433][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:05:56.433][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:05:56.434][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:05:56.434][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 19:05:56.434][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:05:56.434][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:05:56.435][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:05:56.435][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 19:05:56.436][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:05:56.436][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:05:56.436][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:05:56.437][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:05:58.726][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:05:58.726][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:05:58.727][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 19:05:58.727][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 19:05:58.728][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 19:06:02.881][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:06:02.887][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:06:02.887][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:02.887][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:06:02.888][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:06:02.889][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():96]-setting true!!!!!!
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Finished
[2021-05-17 19:06:02.890][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():97]-setting true!!!!!!
[2021-05-17 19:06:03.898][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:true
[2021-05-17 19:06:05.168][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:06:05.169][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:06:05.169][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:06:05.170][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 19:06:05.171][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:05.171][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:06:44.841][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 19:06:44.843][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 19:06:44.847][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 19:06:44.848][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:06:44.851][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:06:44.851][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:44.851][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:44.852][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 19:06:44.852][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:44.852][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:44.853][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:06:44.853][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 19:06:44.854][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:06:44.854][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:06:44.855][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:06:44.855][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:06:47.147][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:06:47.148][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:06:47.148][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 19:06:47.148][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 19:06:47.149][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 19:06:52.762][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:06:52.767][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:06:52.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:52.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:52.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:06:52.768][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:06:52.768][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 19:06:52.769][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:52.770][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:06:52.771][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:52.771][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():96]-setting true!!!!!!
[2021-05-17 19:06:52.771][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Finished
[2021-05-17 19:06:52.771][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():97]-setting true!!!!!!
[2021-05-17 19:06:53.784][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:true
[2021-05-17 19:06:55.065][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:06:55.065][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:06:55.065][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:06:55.066][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 19:06:55.067][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():104]-sending file loop ends
[2021-05-17 19:06:55.067][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:08:00.641][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 19:08:00.642][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 19:08:00.647][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:08:00.647][ERROR][idv.ray.croc.exception.ExceptionHandler-uncaughtException():13]-uncaughtException: 
java.lang.NullPointerException
	at idv.ray.croc.client.AbstClient.close(AbstClient.java:91) ~[classes/:?]
	at idv.ray.croc.client.Sender.start(Sender.java:46) ~[classes/:?]
	at SenderTester.main(SenderTester.java:14) ~[test-classes/:?]
[2021-05-17 19:08:09.791][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 19:08:09.792][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 19:08:09.796][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 19:08:09.797][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:08:09.800][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:08:09.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:08:09.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:08:09.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Sender
[2021-05-17 19:08:09.801][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:08:09.802][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:08:09.802][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:08:09.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Sender
[2021-05-17 19:08:09.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:08:09.803][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:08:09.804][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:08:09.804][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:08:12.073][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:08:12.074][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:08:12.074][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 19:08:12.074][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ready
[2021-05-17 19:08:12.075][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ready
[2021-05-17 19:08:16.133][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():45]-socket reader opened
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():51]-socket writer opened
[2021-05-17 19:08:16.138][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Receiver
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Receiver
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Ack
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: ReceiverIsReady
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: ReceiverIsReady
[2021-05-17 19:08:16.139][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: Ack
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: FileName@123.txt
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():101]-sending file...
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-data: [B@4f063c0a
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:08:16.140][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:08:16.141][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 19:08:16.141][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():96]-setting true!!!!!!
[2021-05-17 19:08:16.141][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():60]-send: Finished
[2021-05-17 19:08:16.141][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():97]-setting true!!!!!!
[2021-05-17 19:08:17.153][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:true
[2021-05-17 19:08:18.434][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:08:18.434][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:08:18.435][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():70]-read: FileName@123.txt
[2021-05-17 19:08:18.435][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 19:08:18.436][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():105]-sending file loop ends
[2021-05-17 19:08:18.437][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:09:15.147][DEBUG][idv.ray.croc.client.Sender-start():33]-sender starts
[2021-05-17 19:09:15.149][DEBUG][idv.ray.croc.client.Sender-start():35]-intializing local relay...
[2021-05-17 19:09:15.153][DEBUG][idv.ray.croc.relay.LocalRelay-listen():37]-listening port: 9001
[2021-05-17 19:09:15.154][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:09:15.157][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():46]-socket reader opened
[2021-05-17 19:09:15.157][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:09:15.157][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():52]-socket writer opened
[2021-05-17 19:09:15.157][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Sender
[2021-05-17 19:09:15.158][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():46]-socket reader opened
[2021-05-17 19:09:15.158][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():52]-socket writer opened
[2021-05-17 19:09:15.159][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:09:15.159][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: Sender
[2021-05-17 19:09:15.160][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Ack
[2021-05-17 19:09:15.160][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: Ack
[2021-05-17 19:09:15.161][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:09:15.161][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:09:17.439][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:09:17.440][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:09:17.440][DEBUG][idv.ray.croc.client.Sender-start():38]-wait for receiver...
[2021-05-17 19:09:17.440][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Ready
[2021-05-17 19:09:17.441][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: Ready
[2021-05-17 19:09:23.802][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: localhost
[2021-05-17 19:09:23.807][DEBUG][idv.ray.croc.relay.LocalRelay$1-run():53]-client accepted
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():46]-socket reader opened
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():52]-socket writer opened
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():46]-socket reader opened
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-<init>():52]-socket writer opened
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Receiver
[2021-05-17 19:09:23.808][DEBUG][idv.ray.croc.relay.ClientHandler-run():38]-handling client...
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: Receiver
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Ack
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: ReceiverIsReady
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: ReceiverIsReady
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: Ack
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.client.Sender-start():40]-starting sending file...
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: FileName@123.txt
[2021-05-17 19:09:23.809][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: FileName@123.txt
[2021-05-17 19:09:23.810][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():56]-connecting to localhost successes
[2021-05-17 19:09:23.810][DEBUG][idv.ray.croc.client.AbstClient-connectToServer():48]-connect to server: asd
[2021-05-17 19:09:23.810][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: FileName@123.txt
[2021-05-17 19:09:23.810][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():102]-sending file...
[2021-05-17 19:09:23.810][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():103]-data: /usr/local/nachos/decstation-ultrix/bin/                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
[2021-05-17 19:09:23.811][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():106]-sending file loop ends
[2021-05-17 19:09:23.811][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
[2021-05-17 19:09:23.811][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():106]-sending file loop ends
[2021-05-17 19:09:23.811][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():96]-setting true!!!!!!
[2021-05-17 19:09:23.811][DEBUG][idv.ray.croc.connection.ConnectionHandler-send():61]-send: Finished
[2021-05-17 19:09:23.812][DEBUG][idv.ray.croc.relay.ClientHandler-handleSender():97]-setting true!!!!!!
[2021-05-17 19:09:24.816][DEBUG][idv.ray.croc.relay.ClientHandler-handleReceiver():109]-check file transfer finished:true
[2021-05-17 19:09:26.085][WARN ][idv.ray.croc.client.AbstClient-connectToServer():61]-fail to connect to asd relay
[2021-05-17 19:09:26.085][DEBUG][idv.ray.croc.client.AbstClient-getRelayConnection():79]-sender connects to local relay
[2021-05-17 19:09:26.085][DEBUG][idv.ray.croc.connection.ConnectionHandler-read():71]-read: FileName@123.txt
[2021-05-17 19:09:26.086][DEBUG][idv.ray.croc.client.Receiver-receiveFile():38]-download file name:123.txt
[2021-05-17 19:09:26.087][DEBUG][idv.ray.croc.connection.ConnectionHandler-transferFile():106]-sending file loop ends
[2021-05-17 19:09:26.087][DEBUG][idv.ray.croc.client.AbstClient-close():90]-close relay connection
